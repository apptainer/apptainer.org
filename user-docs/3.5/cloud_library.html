

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Cloud Library &mdash; Singularity container 3.5 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.png"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/js/ga.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Bind Paths and Mounts" href="bind_paths_and_mounts.html" />
    <link rel="prev" title="Remote Endpoints" href="endpoint.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Singularity container
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                3.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction to Singularity</a></li>
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security in Singularity</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="build_a_container.html">Build a container</a></li>
<li class="toctree-l1"><a class="reference internal" href="definition_files.html">The Definition File</a></li>
<li class="toctree-l1"><a class="reference internal" href="build_env.html">Build Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="singularity_and_docker.html">Singularity and Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="fakeroot.html">Fakeroot feature</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="signNverify.html">Sign and Verify</a></li>
<li class="toctree-l1"><a class="reference internal" href="key_commands.html">Key management commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="encryption.html">Encrypted Containers</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="endpoint.html">Remote Endpoints</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Cloud Library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="#make-an-account">Make an Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-a-access-token">Creating a Access token</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pushing-a-container">Pushing a Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pulling-a-container">Pulling a container</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pulling-your-own-container">Pulling your own container</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#verify-sign-your-container">Verify/Sign your Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="#searching-the-library-for-containers">Searching the Library for Containers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-the-cli-search">Using the CLI Search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#remote-builder">Remote Builder</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#building-from-a-definition-file">Building from a definition file:</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="bind_paths_and_mounts.html">Bind Paths and Mounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="persistent_overlays.html">Persistent Overlays</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_services.html">Running Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment_and_metadata.html">Environment and Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="oci_runtime.html">OCI Runtime Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="security_options.html">Security Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="networking.html">Network Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="cgroups.html">Cgroups Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="mpi.html">Singularity and MPI applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="gpu.html">GPU Support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Appendix</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command Line Reference</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Singularity container</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Cloud Library</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/sylabs/singularity-userdocs/blob/master/cloud_library.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="cloud-library">
<span id="id1"></span><h1>Cloud Library<a class="headerlink" href="#cloud-library" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The Sylabs Cloud Library is the place to <a class="reference internal" href="#push"><span class="std std-ref">push</span></a> your
containers to the cloud so other users can <a class="reference internal" href="#pull"><span class="std std-ref">pull</span></a>,
<a class="reference internal" href="signNverify.html#signnverify"><span class="std std-ref">verify</span></a>, and use them.</p>
<p>The Sylabs Cloud also provides a <a class="reference internal" href="#remote-builder"><span class="std std-ref">Remote Builder</span></a>, allowing you to build containers on a secure remote
service. This is convenient so that you can build containers on
systems where you do not have root privileges.</p>
</div>
<div class="section" id="make-an-account">
<span id="make-a-account"></span><h2>Make an Account<a class="headerlink" href="#make-an-account" title="Permalink to this headline">¶</a></h2>
<p>Making an account is easy, and straightforward:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Go to: <a class="reference external" href="https://cloud.sylabs.io/library">https://cloud.sylabs.io/library</a>.</p></li>
<li><p>Click “Sign in to Sylabs” (top right corner).</p></li>
<li><p>Select your method to sign in, with Google, GitHub, GitLab, or Microsoft.</p></li>
<li><p>Type your passwords, and that’s it!</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="creating-a-access-token">
<span id="id2"></span><h2>Creating a Access token<a class="headerlink" href="#creating-a-access-token" title="Permalink to this headline">¶</a></h2>
<p>Access tokens for pushing a container, and remote builder.</p>
<p>To generate a access token, do the following steps:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Go to: <a class="reference external" href="https://cloud.sylabs.io/">https://cloud.sylabs.io/</a></p></li>
<li><p>Click “Sign in to Sylabs” and follow the sign in steps.</p></li>
<li><p>Click on your login id (same and updated button as the Sign in one).</p></li>
<li><p>Select “Access Tokens” from the drop down menu.</p></li>
<li><p>Enter a name for your new access token, such as “test token”</p></li>
<li><p>Click the “Create a New Access Token” button.</p></li>
<li><p>Click “Copy token to Clipboard” from the “New API Token” page.</p></li>
<li><p>Run <code class="docutils literal notranslate"><span class="pre">singularity</span> <span class="pre">remote</span> <span class="pre">login</span></code> and paste the access token at the prompt.</p></li>
</ol>
</div></blockquote>
<p>Now that you have your token, you are ready to push your container!</p>
</div>
<div class="section" id="pushing-a-container">
<span id="push"></span><h2>Pushing a Container<a class="headerlink" href="#pushing-a-container" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">singularity</span> <span class="pre">push</span></code> command will push a container to the container library with the given URL. Here’s an example
of a typical push command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ singularity push my-container.sif library://your-name/project-dir/my-container:latest
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">:latest</span></code> is the container tag. Tags are used to have different version of the same container.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When pushing your container, theres no need to add a <code class="docutils literal notranslate"><span class="pre">.sif</span></code> (Singularity Image Format) to the end of the container name, (like
on your local machine), because all containers on the library are SIF containers.</p>
</div>
<p>Let’s assume you have your container (v1.0.1), and you want to push that container without deleting
your <code class="docutils literal notranslate"><span class="pre">:latest</span></code> container, then you can add a version tag to that container, like so:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ singularity push my-container.sif library://your-name/project-dir/my-container:1.0.1
</pre></div>
</div>
<p>You can download the container with that tag by replacing the <code class="docutils literal notranslate"><span class="pre">:latest</span></code>, with the tagged container you want to download.</p>
</div>
<div class="section" id="pulling-a-container">
<span id="pull"></span><h2>Pulling a container<a class="headerlink" href="#pulling-a-container" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">singularity</span> <span class="pre">pull</span></code> command will download a container from the <a class="reference external" href="https://cloud.sylabs.io/library">Library</a>
(<code class="docutils literal notranslate"><span class="pre">library://</span></code>), <a class="reference external" href="https://hub.docker.com/">Docker Hub</a> (<code class="docutils literal notranslate"><span class="pre">docker://</span></code>), and also
<a class="reference external" href="https://singularity-hub.org/collections">Shub</a> (<code class="docutils literal notranslate"><span class="pre">shub://</span></code>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When pulling from Docker, the container will automatically be converted to a SIF (Singularity Image Format) container.</p>
</div>
<p>Here’s a typical pull command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ singularity pull file-out.sif library://alpine:latest

# or pull from docker:

$ singularity pull file-out.sif docker://alpine:latest
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If there’s no tag after the container name, Singularity automatically will pull the container with the <code class="docutils literal notranslate"><span class="pre">:latest</span></code> tag.</p>
</div>
<p>To pull a container with a specific tag, just add the tag to the library URL:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ singularity pull file-out.sif library://alpine:3.8
</pre></div>
</div>
<p>Of course, you can pull your own containers. Here’s what that will look like:</p>
<div class="section" id="pulling-your-own-container">
<h3>Pulling your own container<a class="headerlink" href="#pulling-your-own-container" title="Permalink to this headline">¶</a></h3>
<p>Pulling your own container is just like pulling from Github, Docker, etc…</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ singularity pull out-file.sif library://your-name/project-dir/my-container:latest

# or use a different tag:

$ singularity pull out-file.sif library://your-name/project-dir/my-container:1.0.1
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You <em>don’t</em> have to specify a output file, one will be created automatically, but it’s good practice to always
specify your output file.</p>
</div>
</div>
</div>
<div class="section" id="verify-sign-your-container">
<h2>Verify/Sign your Container<a class="headerlink" href="#verify-sign-your-container" title="Permalink to this headline">¶</a></h2>
<p>Verify containers that you pull from the library, ensuring they are bit-for-bit reproductions of the original image.</p>
<p>Check out <a class="reference internal" href="signNverify.html#signnverify"><span class="std std-ref">this page</span></a> on how to: <a class="reference internal" href="signNverify.html#verify-container-from-library"><span class="std std-ref">verify a container</span></a>,
<a class="reference internal" href="signNverify.html#sign-your-own-containers"><span class="std std-ref">making PGP key, and sign your own containers</span></a>.</p>
</div>
<div class="section" id="searching-the-library-for-containers">
<span id="search-the-library"></span><h2>Searching the Library for Containers<a class="headerlink" href="#searching-the-library-for-containers" title="Permalink to this headline">¶</a></h2>
<p>When it comes to searching the library, you could always go to: <a class="reference external" href="https://cloud.sylabs.io/library">https://cloud.sylabs.io/library</a> and search from there
through the web GUI. Or you can use <code class="docutils literal notranslate"><span class="pre">singularity</span> <span class="pre">search</span> <span class="pre">&lt;container/user&gt;</span></code>, this will search the library for
the <code class="docutils literal notranslate"><span class="pre">&lt;container/user&gt;</span></code>.</p>
<div class="section" id="using-the-cli-search">
<h3>Using the CLI Search<a class="headerlink" href="#using-the-cli-search" title="Permalink to this headline">¶</a></h3>
<p>Here is an example for searching the library for <code class="docutils literal notranslate"><span class="pre">centos</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ singularity search centos
No users found for &#39;centos&#39;

No collections found for &#39;centos&#39;

Found 6 containers for &#39;centos&#39;
    library://dtrudg/linux/centos
            Tags: 6 7 centos6 centos7 latest
    library://library/default/centos
            Tags: 6 7 latest
    library://gmk/demo/centos-vim
            Tags: latest
    library://mroche/baseline/centos
            Tags: 7 7.5 7.5.1804 7.6 7.6.1810 latest
    library://gmk/default/centos7-devel
            Tags: latest
    library://emmeff/default/centos7-python36
            Tags: 1.0
</pre></div>
</div>
<p>Notice there are different tags for the same container.</p>
</div>
</div>
<div class="section" id="remote-builder">
<span id="id3"></span><h2>Remote Builder<a class="headerlink" href="#remote-builder" title="Permalink to this headline">¶</a></h2>
<p>The remote builder service can build your container in the cloud removing the requirement for root access.</p>
<p>Here’s a typical remote build command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ singularity build --remote file-out.sif docker://ubuntu:18.04
</pre></div>
</div>
<div class="section" id="building-from-a-definition-file">
<h3>Building from a definition file:<a class="headerlink" href="#building-from-a-definition-file" title="Permalink to this headline">¶</a></h3>
<p>This is our definition file. Let’s call it <code class="docutils literal notranslate"><span class="pre">ubuntu.def</span></code>:</p>
<div class="highlight-singularity notranslate"><div class="highlight"><pre><span></span><span class="k">bootstrap</span>: library
<span class="k">from</span>: ubuntu:<span class="m">18.04</span>

<span class="gh">%runscript</span>
    <span class="nb">echo</span> <span class="s2">&quot;hello world from ubuntu container!&quot;</span>
</pre></div>
</div>
<p>Now, to build the container, use the <code class="docutils literal notranslate"><span class="pre">--remote</span></code> flag, and without <code class="docutils literal notranslate"><span class="pre">sudo</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ singularity build --remote ubuntu.sif ubuntu.def
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure you have a <a class="reference internal" href="#creating-a-access-token"><span class="std std-ref">access token</span></a>, otherwise the build will fail.</p>
</div>
<p>After building, you can test your container like so:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ ./ubuntu.sif
hello world from ubuntu container!
</pre></div>
</div>
<p>You can also use the web GUI to build containers remotely. First, go to <a class="reference external" href="https://cloud.sylabs.io/builder">https://cloud.sylabs.io/builder</a> (make sure you are signed in).
Then you can copy and paste, upload, or type your definition file. When you are finished, click build. Then you can download the container
with the URL.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="bind_paths_and_mounts.html" class="btn btn-neutral float-right" title="Bind Paths and Mounts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="endpoint.html" class="btn btn-neutral float-left" title="Remote Endpoints" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2017-2019, Sylabs Inc.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>