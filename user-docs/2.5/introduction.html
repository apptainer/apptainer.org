

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Introduction &mdash; Singularity container 2.5 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.png"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation" href="installation.html" />
    <link rel="prev" title="Quick Start" href="quick_start.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Singularity container
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">Quick Start</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#welcome-to-singularity">Welcome to Singularity!</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#mobility-of-compute">Mobility of Compute</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reproducibility">Reproducibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-freedom">User Freedom</a></li>
<li class="toctree-l3"><a class="reference internal" href="#support-on-existing-traditional-hpc">Support on Existing Traditional HPC</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#a-high-level-view-of-singularity">A High Level View of Singularity</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#security-and-privilege-escalation">Security and privilege escalation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-singularity-container-image">The Singularity container image</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#copying-sharing-branching-and-distributing-your-image"><em>Copying, sharing, branching, and distributing your image</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supported-container-formats"><em>Supported container formats</em></a></li>
<li class="toctree-l4"><a class="reference internal" href="#supported-unified-resource-identifiers-uris"><em>Supported Unified Resource Identifiers (URIs)</em></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#name-spaces-and-isolation">Name-spaces and isolation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#compatibility-with-standard-work-flows-pipes-and-io">Compatibility with standard work-flows, pipes and IO</a></li>
<li class="toctree-l3"><a class="reference internal" href="#the-singularity-process-flow">The Singularity Process Flow</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#the-singularity-usage-workflow">The Singularity Usage Workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#singularity-commands">Singularity Commands</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#support">Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="build_a_container.html">Build a Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="build_environment.html">Build Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="container_recipes.html">Container Recipes</a></li>
<li class="toctree-l1"><a class="reference internal" href="singularity_flow.html">Singularity Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="bind_paths_and_mounts.html">Bind Paths and Mounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="persistent_overlays.html">Persistent Overlays</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_services.html">Running Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="container_checks.html">Container Checks</a></li>
<li class="toctree-l1"><a class="reference internal" href="environment_and_metadata.html">Environment and Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="reproducible_scif_apps.html">Reproducible SCI-F Apps</a></li>
<li class="toctree-l1"><a class="reference internal" href="singularity_and_docker.html">Singularity and Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Appendix</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Singularity container</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Introduction</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/sylabs/singularity-userdocs/blob/2.5/introduction.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>This document will introduce you to Singularity.
If you are viewing this on the web there should be links in the bar to the left
that will direct you to other important topics. If you
want to get a quick overview, see the quick start section. If you want to
understand which commands are a best fit for your use case, see our build
flow section. There is also a separate Singularity Administration Guide
that targets system administrators, so if you are a service provider, or
an interested user, it is encouraged that you read that document as
well.</p>
<div class="section" id="welcome-to-singularity">
<h2>Welcome to Singularity!<a class="headerlink" href="#welcome-to-singularity" title="Permalink to this headline">¶</a></h2>
<p>Singularity is a container solution created by necessity for
scientific and application driven workloads.
Over the past decade and a half, virtualization has gone from an
engineering toy to a global infrastructure necessity and the evolution
of enabling technologies has flourished. Most recently, we have seen
the introduction of the latest spin on virtualization… “containers”.
People tend to view containers in light of their virtual machine
ancestry and these preconceptions influence feature sets and expected
use cases. This is both a good and a bad thing…
For industry and enterprise-centric container technologies this is a
good thing. Web enabled cloud requirements are very much in alignment
with the feature set of virtual machines, and thus the preceding
container technologies. But the idea of containers as miniature
virtual machines is a bad thing for the scientific world and
specifically the high performance computation (HPC) community. While
there are many overlapping requirements in these two fields, they
differ in ways that make a shared implementation generally
incompatible. Some groups have leveraged custom-built resources that
can operate on a lower performance scale, but proper integration is
difficult and perhaps impossible with today’s technology.
Many scientists could benefit greatly by using container technology,
but they need a feature set that differs somewhat from that available
with current container technology. This necessity drives the creation
of Singularity and articulated its four primary functions:</p>
<div class="section" id="mobility-of-compute">
<h3>Mobility of Compute<a class="headerlink" href="#mobility-of-compute" title="Permalink to this headline">¶</a></h3>
<p>Mobility of compute is defined as the ability to define, create and
maintain a workflow and be confident that the workflow can be executed
on different hosts, operating systems (as long as it is Linux) and
service providers. Being able to contain the entire software stack,
from data files to library stack, and portably move it from system to
system is true mobility.
Singularity achieves this by utilizing a distributable image format
that contains the entire container and stack into a single file. This
file can be copied, shared, archived, and standard UNIX file
permissions also apply. Additionally containers are portable (even
across different C library versions and implementations) which makes
sharing and copying an image as easy as <code class="docutils literal notranslate"><span class="pre">cp</span></code> or <code class="docutils literal notranslate"><span class="pre">scp</span></code> or <code class="docutils literal notranslate"><span class="pre">ftp</span></code>.</p>
</div>
<div class="section" id="reproducibility">
<h3>Reproducibility<a class="headerlink" href="#reproducibility" title="Permalink to this headline">¶</a></h3>
<p>As mentioned above, Singularity containers utilize a single file which is the complete
representation of all the files within the container. The same
features which facilitate mobility also facilitate reproducibility.
Once a contained workflow has been defined, a snapshot image can be taken of a container.
The image then can be archived and locked down such that it can be used later
and you can be confident that the code within the container has not
changed.</p>
</div>
<div class="section" id="user-freedom">
<h3>User Freedom<a class="headerlink" href="#user-freedom" title="Permalink to this headline">¶</a></h3>
<p>System integrators, administrators, and engineers spend a lot
of effort maintaining their systems, and tend to take a cautious
approach. As a result, it is common to see hosts installed with
production, mission critical operating systems that are “old” and have
few installed packages. Users may find software or libraries that are
too old or incompatible with the software they must run, or the
environment may just lack the software stack they need due to
complexities with building, specific software knowledge,
incompatibilities or conflicts with other installed programs.</p>
<p>Singularity can give the user the freedom they need to install the
applications, versions, and dependencies for their workflows without
impacting the system in any way. Users can define their own working
environment and literally copy that environment image (single file) to
a shared resource, and run their workflow inside that image.</p>
</div>
<div class="section" id="support-on-existing-traditional-hpc">
<h3>Support on Existing Traditional HPC<a class="headerlink" href="#support-on-existing-traditional-hpc" title="Permalink to this headline">¶</a></h3>
<p>Replicating a virtual machine cloud like environment within an
existing HPC resource is not a reasonable goal for many
administrators. There are a lots of container systems available which
are designed for enterprise, as a replacement for virtual machines,
are cloud focused, or require unstable or unavailable kernel features.
Singularity supports existing and traditional HPC resources as easily
as installing a single package onto the host operating system. Custom
configurations may be achieved via a single configuration file, and
the defaults are tuned to be generally applicable for shared
environments.
Singularity can run on host Linux distributions from RHEL6 (RHEL5 for
versions lower than 2.2) and similar vintages, and the contained
images have been tested as far back as Linux 2.2 (approximately 14
years old). Singularity natively supports InfiniBand, Lustre, and
works seamlessly with all resource managers (e.g. SLURM, Torque, SGE,
etc.) because it works like running any other command on the system.
It also has built-in support for MPI and for containers that need to
leverage GPU resources.</p>
</div>
</div>
<div class="section" id="a-high-level-view-of-singularity">
<h2>A High Level View of Singularity<a class="headerlink" href="#a-high-level-view-of-singularity" title="Permalink to this headline">¶</a></h2>
<div class="section" id="security-and-privilege-escalation">
<span id="id1"></span><h3>Security and privilege escalation<a class="headerlink" href="#security-and-privilege-escalation" title="Permalink to this headline">¶</a></h3>
<p>A user inside a Singularity container
is the same user as outside the container
This is one of Singularities defining characteristics. It allows a
user (that may already have shell access to a particular host) to
simply run a command inside of a container image as themselves.
The following example scenario will help illustrate a Singularity container.</p>
<p>%SERVER and %CLUSTER are large expensive systems with resources far
exceeding those of my personal workstation. But because the are
shared systems, no users have root access. The environments are
tightly controlled and managed by a staff of system administrators.
To keep these systems secure, only the system administrators are
granted root access and they control the state of the operating
systems and installed applications. If a user is able to escalate to
root (even within a container) on %SERVER or %CLUSTER, they can do
bad things to the network, cause denial of service to the host (as
well as other hosts on the same network), and may have unrestricted
access to file systems reachable by the container.</p>
<p>To mitigate security concerns like this, Singularity limits one’s
ability to escalate permission inside a container. For example, if I
do not have root access on the target system, I should not be able to
escalate my privileges within the container to root either. This is
semi-antagonistic to Singularity’s 3rd tenant; allowing the users to
have freedom of their own environments. Because if a user has the
freedom to create and manipulate their own container environment,
surely they know how to escalate their privileges to root within that
container. Possible means to escalation could include setting the root user’s password,
or enabling themselves to have sudo access. For these reasons,
Singularity prevents user context escalation within the container, and
thus makes it possible to run user supplied containers on shared
infrastructures.
This mitigation dictates the <a class="reference internal" href="singularity_flow.html#singularity-flow"><span class="std std-ref">Singularity workflow</span></a>. If a user needs to be root
in order to make changes to their containers, then they need to have
an endpoint (a local workstation, laptop, or server) where they have
root access. Considering almost everybody at least has a laptop, this
is not an unreasonable or unmanageable mitigation, but it must be
defined and articulated.</p>
</div>
<div class="section" id="the-singularity-container-image">
<h3>The Singularity container image<a class="headerlink" href="#the-singularity-container-image" title="Permalink to this headline">¶</a></h3>
<p>Singularity makes use of a container image
file, which physically includes the container. This file is a physical
representation of the container environment itself. If you obtain an
interactive shell within a Singularity container, you are literally
running within that file.
This design simplifies management of files to the element of least surprise,
basic file permission. If you either own a container image, or have
read access to that container image, you can start a shell inside that
image. If you wish to disable or limit access to a shared image, you
simply change the permission ACLs to that file.
There are numerous benefits for using a single file image for the
entire container:</p>
<ul class="simple">
<li><p>Copying or branching an entire container is as simple as <code class="docutils literal notranslate"><span class="pre">cp</span></code></p></li>
<li><p>Permission/access to the container is managed via standard file
system permissions</p></li>
<li><p>Large scale performance (especially over parallel file systems) is
very efficient</p></li>
<li><p>No caching of the image contents to run (especially nice on clusters)</p></li>
<li><p>Containers are compressed and consume very little disk space</p></li>
<li><p>Images can serve as stand-alone programs, and can be executed like
any other program on the host</p></li>
</ul>
<div class="section" id="copying-sharing-branching-and-distributing-your-image">
<h4><em>Copying, sharing, branching, and distributing your image</em><a class="headerlink" href="#copying-sharing-branching-and-distributing-your-image" title="Permalink to this headline">¶</a></h4>
<p>A primary goal of Singularity is mobility. The single file image
format makes mobility easy. Because Singularity images are single
files, they are easily copied and managed. You can copy the image to
create a branch, share the image and distribute the image as easily as
copying any other file you control!</p>
<p>If you want an automated solution for building and hosting your image,
you can use our container registry <a class="reference external" href="https://singularity-hub.org/">Singularity Hub</a>. Singularity Hub
can automatically build <a class="reference internal" href="container_recipes.html#container-recipes"><span class="std std-ref">Singularity recipe files</span></a> from
a GitHub repository each time that you push. It provides a simple cloud
solution for storing and sharing your image. If you want to host your own
Registry, then you should check out <a class="reference external" href="https://www.github.com/singularityhub/sregistry">Singularity Registry</a>.
If you have ideas or suggestions for how Singularity can better support
reproducible science, please <a class="reference external" href="https://www.sylabs.io/contact/">reach out!</a>.</p>
</div>
<div class="section" id="supported-container-formats">
<h4><em>Supported container formats</em><a class="headerlink" href="#supported-container-formats" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>squashfs</strong>: the default container format is a compressed read-only
file system that is widely used for things like live CDs/USBs and
cell phone OS’s</p></li>
<li><p><strong>ext3</strong>: (also called <code class="docutils literal notranslate"><span class="pre">writable</span></code>) a writable image file containing an ext3
file system that was the default container format prior to
Singularity version 2.4</p></li>
<li><p><strong>directory</strong>: (also called <code class="docutils literal notranslate"><span class="pre">sandbox</span></code>) standard Unix directory containing a
root container image</p></li>
<li><p><strong>tar.gz</strong>: zlib compressed tar archive</p></li>
<li><p><strong>tar.bz2</strong>: bzip2 compressed tar archive</p></li>
<li><p><strong>tar</strong>: uncompressed tar archive</p></li>
</ul>
</div>
<div class="section" id="supported-unified-resource-identifiers-uris">
<h4><em>Supported Unified Resource Identifiers (URIs)</em><a class="headerlink" href="#supported-unified-resource-identifiers-uris" title="Permalink to this headline">¶</a></h4>
<p>Singularity also supports several different mechanisms for obtaining the
images using a standard URI format.</p>
<ul class="simple">
<li><p><strong>shub://</strong> Singularity Hub is our own registry for Singularity
containers. If you want to publish a container, or give easy access
to others from their command line, or enable automatic builds, you
should build it on <a class="reference external" href="https://singularity-hub.org/">Singularity Hub</a>.</p></li>
<li><p><strong>docker://</strong> Singularity can pull Docker images from a Docker
registry, and will run them non-persistently (e.g. changes are not
persisted as they can not be saved upstream). Note that pulling a
Docker image implies assembling layers at runtime, and two subsequent
pulls are not guaranteed to produce an identical image.</p></li>
<li><p><strong>instance://</strong> A Singularity container running as service, called an
instance, can be referenced with this URI.</p></li>
</ul>
</div>
</div>
<div class="section" id="name-spaces-and-isolation">
<h3>Name-spaces and isolation<a class="headerlink" href="#name-spaces-and-isolation" title="Permalink to this headline">¶</a></h3>
<p>When asked, “What namespaces does Singularity virtualize?”, the most
appropriate response from a Singularity point of view is “As few as
possible!”. This is because the goals of Singularity are mobility,
reproducibility and freedom, not full isolation (as you would expect
from industry driven container technologies). Singularity only
separates the needed namespaces in order to satisfy our primary goals.</p>
<p>Coupling incomplete isolation with the fact that a user inside a
container is the same user outside the container, allows Singularity
to blur the lines between a container and the underlying host system.
Using Singularity feels like running in a parallel universe, where
there are two time lines. In one time line, the system administrators
installed their operating system of choice. But on an alternate
time line, we bribed the system administrators and they installed our
favorite operating system and apps, and gave us full control but
configured the rest of the system identically. And Singularity gives
us the power to pick between these two time lines.</p>
<p>In other words, Singularity allows you to virtually swap out the
underlying operating system for one that you’ve defined without
affecting anything else on the system and still having all of the host
resources available to you.</p>
<p>The container is similar to logging into another identical host running a different operating system.
One moment you are on Centos-6 and the next minute
you are on the latest version of Ubuntu that has Tensorflow installed,
or Debian with the latest OpenFoam, or a custom workflow that you
installed. But you are still the same user with the same files running
the same PIDs.</p>
<p>Additionally, the selection of name-space virtualization can be
dynamic or conditional. For example, the PID namespace is not
separated from the host by default, but if you want to separate it,
you can with a command line (or environment variable) setting. You can
also decide if you want to contain a process so it can not reach out to
the host file system if you don’t know if you trust the image. But by
default, you are allowed to interface with all of the resources,
devices and network inside the container as you are outside the
container (given your level of permissions).</p>
</div>
<div class="section" id="compatibility-with-standard-work-flows-pipes-and-io">
<h3>Compatibility with standard work-flows, pipes and IO<a class="headerlink" href="#compatibility-with-standard-work-flows-pipes-and-io" title="Permalink to this headline">¶</a></h3>
<p>Singularity abstracts the complications of running an application in
an environment that differs from the host. For example, applications
or scripts within a Singularity container can easily be part of a
pipeline that is being executed on the host. Singularity containers
can also be executed from a batch script or other program (e.g. an HPC
system’s resource manager) natively.
Some usage examples of Singularity can be seen as follows:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ singularity exec dummy.img xterm  # run xterm from within the container

$ singularity exec dummy.img python script.py  # run a script on the host system using container&#39;s python

$ singularity exec dummy.img python &lt; /path/to/python/script.py  # do the same via redirection

$ cat /path/to/python/script.py | singularity exec dummy.img python  # do the same via a pipe
</pre></div>
</div>
<p>You can even run MPI executables within the container as simply as:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$ mpirun -np X singularity exec /path/to/container.img /usr/bin/mpi_program_inside_container (mpi program args)
</pre></div>
</div>
</div>
<div class="section" id="the-singularity-process-flow">
<h3>The Singularity Process Flow<a class="headerlink" href="#the-singularity-process-flow" title="Permalink to this headline">¶</a></h3>
<p>When executing container commands, the Singularity process flow can be
generalized as follows:</p>
<ol class="arabic simple">
<li><p>Singularity application is invoked</p></li>
<li><p>Global options are parsed and activated</p></li>
<li><p>The Singularity command (subcommand) process is activated</p></li>
<li><p>Subcommand options are parsed</p></li>
<li><p>The appropriate sanity checks are made</p></li>
<li><p>Environment variables are set</p></li>
<li><p>The Singularity Execution binary is called (<code class="docutils literal notranslate"><span class="pre">sexec</span></code>)</p></li>
<li><p>Sexec determines if it is running privileged and calls the <code class="docutils literal notranslate"><span class="pre">SUID</span></code> code if
necessary</p></li>
<li><p>Namespaces are created depending on configuration and process
requirements</p></li>
<li><p>The Singularity image is checked, parsed, and mounted in the
namespace</p></li>
<li><p>Bind mount points are setup so that files on the host are visible in
the <code class="docutils literal notranslate"><span class="pre">CLONE_NEWNS</span></code> container</p></li>
<li><p>The namespace <code class="docutils literal notranslate"><span class="pre">CLONE_FS</span></code> is used to virtualize a new root file system</p></li>
<li><p>Singularity calls <code class="docutils literal notranslate"><span class="pre">execvp()</span></code> and Singularity process itself is replaced by the
process inside the container</p></li>
<li><p>When the process inside the container exits, all namespaces collapse
with that process, leaving a clean system</p></li>
</ol>
<p>All of the above steps are fast and seem instantaneous to the user (i.e there is a little run-time overhead, when measured on a standard server the overhead was approximately 15-25 thousandths of a second).</p>
</div>
</div>
<div class="section" id="the-singularity-usage-workflow">
<h2>The Singularity Usage Workflow<a class="headerlink" href="#the-singularity-usage-workflow" title="Permalink to this headline">¶</a></h2>
<p>The security model of Singularity (as described above, <a class="reference internal" href="#security-and-privilege-escalation"><span class="std std-ref">“A user inside a Singularity container is the same user as outside the container”</span></a>) defines the
Singularity workflow. There are generally two groups of actions you
must implement on a container; management (building your container)
and usage.</p>
<p>In many circumstances building containers require root administrative
privileges just like these actions would require on any system,
container, or virtual machine. This means that a user must have access
to a system on which they have root privileges. This could be a
server, workstation, a laptop, virtual machine, or even a cloud
instance. If you are using OS X or Windows on your laptop, it is
recommended to setup Vagrant, and run Singularity from there (there
are recipes for this which can be found at the Singularity website.
Once you have Singularity installed on your endpoint of choice, this
is where you will do the bulk of your container development. This
workflow can be described visually as follows:</p>
<div class="figure align-default" id="id3">
<img alt="Singularity workflow" src="_images/flow.png" />
<p class="caption"><span class="caption-text">Singularity workflow</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>On the left side, you have your build environment: a laptop,
workstation, or a server that you control. Here you will (optionally):</p>
<ol class="arabic simple">
<li><p>develop and test containers using <code class="docutils literal notranslate"><span class="pre">--sandbox</span></code> (build into a writable directory)
or <code class="docutils literal notranslate"><span class="pre">--writable</span></code> (build into a writable ext3 image)</p></li>
<li><p>build your production containers with a squashfs filesystem.</p></li>
</ol>
<p>Once you have the container with the necessary applications, libraries
and data inside it can be easily shared to other hosts and executed
without requiring root access. A production container should be an
immutable object, so if you need to make changes to your container you
should go back to your build system with root privileges, rebuild the
container with the necessary changes, and then re-upload the container
to the production system where you wish to run it.</p>
<div class="section" id="singularity-commands">
<h3>Singularity Commands<a class="headerlink" href="#singularity-commands" title="Permalink to this headline">¶</a></h3>
<p>How do the commands work?</p>
<p>The following is a list of the Singularity commands. Click on each command for more information.</p>
<ul class="simple">
<li><p><a class="reference internal" href="appendix.html#build-command"><span class="std std-ref">build</span></a> : Build a container on your user endpoint or build environment</p></li>
<li><p><a class="reference internal" href="appendix.html#exec-command"><span class="std std-ref">exec</span></a> : Execute a command to your container</p></li>
<li><p><a class="reference internal" href="appendix.html#inspect-command"><span class="std std-ref">inspect</span></a> : See labels, run and test scripts, and environment variables</p></li>
<li><p><a class="reference internal" href="appendix.html#pull-command"><span class="std std-ref">pull</span></a> : pull an image from Docker or Singularity Hub</p></li>
<li><p><a class="reference internal" href="appendix.html#run-command"><span class="std std-ref">run</span></a> : Run your image as an executable</p></li>
<li><p><a class="reference internal" href="appendix.html#shell-command"><span class="std std-ref">shell</span></a> : Shell into your image</p></li>
</ul>
<p><strong>Image Commands</strong></p>
<ul class="simple">
<li><p><a class="reference internal" href="appendix.html#image-import"><span class="std std-ref">image.import</span></a> : import layers or other file content to your image</p></li>
<li><p><a class="reference internal" href="appendix.html#image-export"><span class="std std-ref">image.export</span></a> : export the contents of the image to tar or stream</p></li>
<li><p><a class="reference internal" href="appendix.html#image-create"><span class="std std-ref">image.create</span></a> : create a new image, using the old ext3 filesystem</p></li>
<li><p><a class="reference internal" href="appendix.html#image-expand"><span class="std std-ref">image.expand</span></a> : increase the size of your image (old ext3)</p></li>
</ul>
<div class="line-block">
<div class="line"><strong>Instance Commands</strong></div>
<div class="line">Instances were added in 2.4. This list is brief, and likely to expand
with further development.</div>
</div>
<ul class="simple">
<li><p><a class="reference internal" href="appendix.html#instance-command-group"><span class="std std-ref">instances</span></a> : Start, stop, and list container instances</p></li>
</ul>
<p><strong>Deprecated Commands</strong> The following commands are deprecated in 2.4 and
will be removed in future releases.</p>
<ul class="simple">
<li><p><a class="reference internal" href="appendix.html#bootstrap"><span class="std std-ref">bootstrap</span></a> : Bootstrap a container recipe</p></li>
</ul>
</div>
</div>
<div class="section" id="support">
<h2>Support<a class="headerlink" href="#support" title="Permalink to this headline">¶</a></h2>
<p>Have a question, or need further information? <a class="reference external" href="https://www.sylabs.io/contact/">Reach out to us</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="installation.html" class="btn btn-neutral float-right" title="Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="quick_start.html" class="btn btn-neutral float-left" title="Quick Start" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2018, Singularity.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>