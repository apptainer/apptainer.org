<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>singularity test &mdash; Singularity User Guide 3.8 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/js/ga.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="singularity verify" href="singularity_verify.html" />
    <link rel="prev" title="singularity sign" href="singularity_sign.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Singularity User Guide
            <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.8
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction to Singularity</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security.html">Security in Singularity</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../build_a_container.html">Build a container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../definition_files.html">The Definition File</a></li>
<li class="toctree-l1"><a class="reference internal" href="../build_env.html">Build Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../singularity_and_docker.html">Singularity and Docker</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fakeroot.html">Fakeroot feature</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../signNverify.html">Sign and Verify</a></li>
<li class="toctree-l1"><a class="reference internal" href="../key_commands.html">Key management commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="../encryption.html">Encrypted Containers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../endpoint.html">Remote Endpoints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cloud_library.html">Cloud Library</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../bind_paths_and_mounts.html">Bind Paths and Mounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../persistent_overlays.html">Persistent Overlays</a></li>
<li class="toctree-l1"><a class="reference internal" href="../running_services.html">Running Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../environment_and_metadata.html">Environment and Metadata</a></li>
<li class="toctree-l1"><a class="reference internal" href="../oci_runtime.html">OCI Runtime Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security_options.html">Security Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking.html">Network Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cgroups.html">Cgroups Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mpi.html">Singularity and MPI applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpu.html">GPU Support</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../appendix.html">Appendix</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../cli.html">Command Line Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="singularity.html">singularity</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_build.html">singularity build</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_cache.html">singularity cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_cache_clean.html">singularity cache clean</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_cache_list.html">singularity cache list</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_capability.html">singularity capability</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_capability_add.html">singularity capability add</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_capability_avail.html">singularity capability avail</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_capability_drop.html">singularity capability drop</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_capability_list.html">singularity capability list</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_config.html">singularity config</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_config_fakeroot.html">singularity config fakeroot</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_config_global.html">singularity config global</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_delete.html">singularity delete</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_exec.html">singularity exec</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_inspect.html">singularity inspect</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_instance.html">singularity instance</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_instance_list.html">singularity instance list</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_instance_start.html">singularity instance start</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_instance_stop.html">singularity instance stop</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_key.html">singularity key</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_key_export.html">singularity key export</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_key_import.html">singularity key import</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_key_list.html">singularity key list</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_key_newpair.html">singularity key newpair</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_key_pull.html">singularity key pull</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_key_push.html">singularity key push</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_key_remove.html">singularity key remove</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_key_search.html">singularity key search</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_oci.html">singularity oci</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_oci_attach.html">singularity oci attach</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_oci_create.html">singularity oci create</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_oci_delete.html">singularity oci delete</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_oci_exec.html">singularity oci exec</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_oci_kill.html">singularity oci kill</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_oci_mount.html">singularity oci mount</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_oci_pause.html">singularity oci pause</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_oci_resume.html">singularity oci resume</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_oci_run.html">singularity oci run</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_oci_start.html">singularity oci start</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_oci_state.html">singularity oci state</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_oci_umount.html">singularity oci umount</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_oci_update.html">singularity oci update</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_overlay.html">singularity overlay</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_overlay_create.html">singularity overlay create</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_plugin.html">singularity plugin</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_plugin_compile.html">singularity plugin compile</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_plugin_create.html">singularity plugin create</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_plugin_disable.html">singularity plugin disable</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_plugin_enable.html">singularity plugin enable</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_plugin_inspect.html">singularity plugin inspect</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_plugin_install.html">singularity plugin install</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_plugin_list.html">singularity plugin list</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_plugin_uninstall.html">singularity plugin uninstall</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_pull.html">singularity pull</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_push.html">singularity push</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_remote.html">singularity remote</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_remote_add.html">singularity remote add</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_remote_add-keyserver.html">singularity remote add-keyserver</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_remote_list.html">singularity remote list</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_remote_login.html">singularity remote login</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_remote_logout.html">singularity remote logout</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_remote_remove.html">singularity remote remove</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_remote_remove-keyserver.html">singularity remote remove-keyserver</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_remote_status.html">singularity remote status</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_remote_use.html">singularity remote use</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_run.html">singularity run</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_run-help.html">singularity run-help</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_search.html">singularity search</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_shell.html">singularity shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_sif.html">singularity sif</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_sif_add.html">singularity sif add</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_sif_del.html">singularity sif del</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_sif_dump.html">singularity sif dump</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_sif_header.html">singularity sif header</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_sif_info.html">singularity sif info</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_sif_list.html">singularity sif list</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_sif_new.html">singularity sif new</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_sif_setprim.html">singularity sif setprim</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_sign.html">singularity sign</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">singularity test</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#options">Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#see-also">SEE ALSO</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="singularity_verify.html">singularity verify</a></li>
<li class="toctree-l2"><a class="reference internal" href="singularity_version.html">singularity version</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Singularity User Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../cli.html">Command Line Interface</a> &raquo;</li>
      <li>singularity test</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/hpcng/singularity-userdocs/blob/master/cli/singularity_test.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="singularity-test">
<span id="id1"></span><h1>singularity test<a class="headerlink" href="#singularity-test" title="Permalink to this headline"></a></h1>
<p>Run the user-defined tests within a container</p>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline"></a></h2>
<blockquote>
<div><p>The ‘test’ command allows you to execute a testscript (if available) inside of
a given container</p>
<dl class="simple">
<dt>NOTE:</dt><dd><p>For instances if there is a daemon process running inside the container,
then subsequent container commands will all run within the same
namespaces. This means that the –writable and –contain options will not
be honored as the namespaces have already been configured by the
‘singularity start’ command.</p>
</dd>
</dl>
</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">singularity</span> <span class="n">test</span> <span class="p">[</span><span class="n">exec</span> <span class="n">options</span><span class="o">...</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">image</span> <span class="n">path</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Set the &#39;%test&#39; section with a definition file like so:
%test
    echo &quot;hello from test&quot; &quot;$@&quot;

$ singularity test /tmp/debian.sif command
    hello from test command

For additional help, please visit our public documentation pages which are
found at:

    https://www.sylabs.io/docs/
</pre></div>
</div>
</section>
<section id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline"></a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    --add-caps string        a comma separated capability list to add
    --allow-setuid           allow setuid binaries in container (root only)
    --app string             set an application to run inside a container
    --apply-cgroups string   apply cgroups from file for container processes (root only)
-B, --bind strings           a user-bind path specification.  spec has the format src[:dest[:opts]], where src and dest are outside and inside paths.  If dest is not given, it is set equal to src.  Mount options (&#39;opts&#39;) may be specified as &#39;ro&#39; (read-only) or &#39;rw&#39; (read/write, which is the default). Multiple bind paths can be given by a comma separated list.
-e, --cleanenv               clean environment before running container
-c, --contain                use minimal /dev and empty other directories (e.g. /tmp and $HOME) instead of sharing filesystems from your host
-C, --containall             contain not only file systems, but also PID, IPC, and environment
    --disable-cache          dont use cache, and dont create cache
    --dns string             list of DNS server separated by commas to add in resolv.conf
    --docker-login           login to a Docker Repository interactively
    --drop-caps string       a comma separated capability list to drop
    --env strings            pass environment variable to contained process
    --env-file string        pass environment variables from file to contained process
-f, --fakeroot               run container in new user namespace as uid 0
    --fusemount strings      A FUSE filesystem mount specification of the form &#39;&lt;type&gt;:&lt;fuse command&gt; &lt;mountpoint&gt;&#39; - where &lt;type&gt; is &#39;container&#39; or &#39;host&#39;, specifying where the mount will be performed (&#39;container-daemon&#39; or &#39;host-daemon&#39; will run the FUSE process detached). &lt;fuse command&gt; is the path to the FUSE executable, plus options for the mount. &lt;mountpoint&gt; is the location in the container to which the FUSE mount will be attached. E.g. &#39;container:sshfs 10.0.0.1:/ /sshfs&#39;. Implies --pid.
-h, --help                   help for test
-H, --home string            a home directory specification.  spec can either be a src path or src:dest pair.  src is the source path of the home directory outside the container and dest overrides the home directory within the container. (default &quot;/home/runner&quot;)
    --hostname string        set container hostname
-i, --ipc                    run container in a new IPC namespace
    --keep-privs             let root user keep privileges in container (root only)
-n, --net                    run container in a new network namespace (sets up a bridge network interface by default)
    --network string         specify desired network type separated by commas, each network will bring up a dedicated interface inside container (default &quot;bridge&quot;)
    --network-args strings   specify network arguments to pass to CNI plugins
    --no-home                do NOT mount users home directory if /home is not the current working directory
    --no-init                do NOT start shim process with --pid
    --no-mount strings       disable one or more mount xxx options set in singularity.conf
    --no-privs               drop all privileges from root user in container)
    --no-umask               do not propagate umask to the container, set default 0022 umask
    --nohttps                do NOT use HTTPS with the docker:// transport (useful for local docker registries without a certificate)
    --nonet                  disable VM network handling
    --nv                     enable experimental Nvidia support
-o, --overlay strings        use an overlayFS image for persistent data storage or as read-only layer of container
    --passphrase             prompt for an encryption passphrase
    --pem-path string        enter an path to a PEM formated RSA key for an encrypted container
-p, --pid                    run container in a new PID namespace
    --pwd string             initial working directory for payload process inside the container
    --rocm                   enable experimental Rocm support
-S, --scratch strings        include a scratch directory within the container that is linked to a temporary dir (use -W to force location)
    --security strings       enable security features (SELinux, Apparmor, Seccomp)
-u, --userns                 run container in a new user namespace, allowing Singularity to run completely unprivileged on recent kernels. This disables some features of Singularity, for example it only works with sandbox images.
    --uts                    run container in a new UTS namespace
    --vm                     enable VM support
    --vm-cpu string          number of CPU cores to allocate to Virtual Machine (implies --vm) (default &quot;1&quot;)
    --vm-err                 enable attaching stderr from VM
    --vm-ip string           IP Address to assign for container usage. Defaults to DHCP within bridge network. (default &quot;dhcp&quot;)
    --vm-ram string          amount of RAM in MiB to allocate to Virtual Machine (implies --vm) (default &quot;1024&quot;)
-W, --workdir string         working directory to be used for /tmp, /var/tmp and $HOME (if -c/--contain was also used)
-w, --writable               by default all Singularity containers are available as read only. This option makes the file system accessible as read/write.
    --writable-tmpfs         makes the file system accessible as read-write with non persistent data (with overlay support only)
</pre></div>
</div>
</section>
<section id="see-also">
<h2>SEE ALSO<a class="headerlink" href="#see-also" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="singularity.html#singularity"><span class="std std-ref">singularity</span></a>       -</p></li>
</ul>
<p>Linux container platform optimized for High Performance Computing (HPC) and
Enterprise Performance Computing (EPC)</p>
<p><em>Auto generated by spf13/cobra on 12-Oct-2021</em></p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="singularity_sign.html" class="btn btn-neutral float-left" title="singularity sign" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="singularity_verify.html" class="btn btn-neutral float-right" title="singularity verify" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2021, HPCng.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>